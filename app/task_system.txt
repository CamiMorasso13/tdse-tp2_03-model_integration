  task_system.c (task_system.h, task_system_attribute.h)
   Non-Blocking & Update By Time Code -> System Modeling

  task_system_interface.c (task_system_interface.h)
   Non-Blocking Code

...
task_system.png

Maquina de sistema que modela el comportamiento de una barrera, implementada en itemis CREATE.

Estados:

-ST_SYS_IDLE -> El sistema esta en estado de espera 
-ST_SYS_ACTIVE_01 -> Una vez detecte un loop (auto) comienza el proceso esperando a que se precione el boton.
-ST_SYS_ACTIVE_02 -> Una vez precionado el boton comienza a abrirse la barrera.
-ST_SYS_ACTIVE_03 -> Se mantiene arriba la barrera hasta que no detecte el loop (auto).
-ST_SYS_ACTIVE_04 -> No detecta mas el loop significando que auto esta en movimiento.
-ST_SYS_ACTIVE_05 -> No detecte mas el auto en movimiento por el infrarojo.
-ST_SYS_ACTIVE_06 -> Comienza a bajar la barrera volviendo al estado idle y cierra el ciclo.

Eventos:

-EV_SYS_LOOP_DETECTOR -> La placa debajo detecta el auto arriba de ella.
-EV_SYS_MANUAL_BUTON -> Se detecta como el usuario presiona el boton.
-EV_SYS_NOT_LOOP_DETECTOR -> La placa debajo no detecta el auto arriba de ella.
-EV_SYS_IR_PHOTO_CELL -> El infrarojo de la barrera detecta el auto en movimiento por abajo.
-EV_SYS_NOT_IR_PHOTO_CELL -> El infrarojo de la barrera no detecta el auto en movimiento por abajo.
-EV_LED_01_OFF -> Deja de manera apagada la luz led 01.
-EV_LED_02_OFF -> Deja de manera apagada la luz led 02.
-EV_LED_01_ON -> Deja de manera prentida la luz led 01.
-EV_LED_02_ON -> Deja de manera prentida la luz led 02.
-EV_LED_01_BLINK -> Titila la luz led.
Equivalentes a constantes enteras enumeradas (enum) en C.

Acciones:

tick = DEL_SYS_MAX ->inicializa un temporizador al valor máximo permitido.
[tick > DEL_SYS_MIN]/tick-- -> decrementa ese temporizador mientras dure la transición hasta llegar al valor minimo
Corresponden con asignaciones a variables y disparos de eventos.

Tipos de datos:

tick: entero que actúa como contador/temporizador.
Constantes: DEL_SYS_MAX, DEL_SYS_MIN: límites de tiempo configurados (#define o const uint32_t).	
Eventos: Representados como banderas booleanas o como valores de un enum.




